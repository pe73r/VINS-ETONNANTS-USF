<tail-drawer class="lg:hidden" data-full-height="true">
  <drawer-overlay class="p-0 bg-transparent overflow-visible top-[68px]">
    <drawer-content class="w-full bg-transparent relative">
      <drawer-close class="absolute px-4 py-4 bg-white left-2 z-10 top-[-60px]">{% render 'icon-close' %}</drawer-close>
      <drawer-inner class="relative" style="background-color: {{ section.settings.bg_drawer }};">
        {%- liquid
        assign bands = section.blocks | where: "type", "mobile_band"
        assign bottoms = section.blocks | where: "type", "mobile_bottom"
      -%}

        <div class="h-auto mb-5">
          {% render "header-drawer-bands", elements: bands %}
          {% render 'header-drawer-accordion-links', menu_mobile: section.settings.menu_mobile, block: block %}
        </div>

        <div class="flex flex-col mt-auto relative min-h-[300px]">
          {% render "header-drawer-bottom-nav", elements: bottoms %}
        </div>

      </drawer-inner>
    </drawer-content>
  </drawer-overlay>
  <drawer-trigger class="flex items-center justify-center w-10 h-10 p-2 cursor-pointer">
    {% render 'icon-hamburger' %}
  </drawer-trigger>
</tail-drawer>
{% schema %}
  {
    "name": "Drawer mobile",
    "settings": [
      {
        "type": "header",
        "content": "Mobile navigation"
      }, {
        "type": "link_list",
        "id": "menu_mobile",
        "default": "main-menu",
        "label": "Mobile menu"
      }, {
        "type": "color",
        "id": "bg_drawer",
        "default": "#F8F2E7",
        "label": "Background color"
      }
    ],
    "blocks": [
      {
        "name": "Mobile bottom link",
        "type": "mobile_bottom",
        "limit": 1,
        "settings": [
          {
            "type": "link_list",
            "id": "menu",
            "label": "Menu"
          }
        ]
      }, {
        "name": "Mobile band link",
        "type": "mobile_band",
        "settings": [
          {
            "type": "url",
            "id": "link",
            "label": "Link"
          }, {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          }, {
            "type": "text",
            "id": "text",
            "label": "Text",
            "default": "Vin du moment"
          }
        ]
      }, {
        "name": "Megamenu",
        "type": "megamenu",
        "settings": [
          {
            "type": "text",
            "id": "menu_name",
            "label": "Menu name"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Text",
            "default": "Title"
          },
          {
            "type": "image_picker",
            "id": "image_2",
            "label": "Image"
          }, {
            "type": "text",
            "id": "title_2",
            "label": "Text",
            "default": "Title"
          }, {
            "type": "image_picker",
            "id": "image_3",
            "label": "Image"
          }, {
            "type": "text",
            "id": "title_3",
            "label": "Text",
            "default": "Title"
          }, {
            "type": "image_picker",
            "id": "image_4",
            "label": "Image"
          }, {
            "type": "text",
            "id": "title_4",
            "label": "Text",
            "default": "Title"
          }, {
            "type": "image_picker",
            "id": "image_5",
            "label": "Image"
          }, {
            "type": "text",
            "id": "title_5",
            "label": "Text",
            "default": "Title"
          }
        ]
      }
    ]
  }
{% endschema %}